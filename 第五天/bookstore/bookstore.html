<!DOCTYPE html>
<html lang="en" ng-app="appModule">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="bootstrap.css">
</head>
<body>
欢迎进入书店管理
<table class="table table-bordered" ng-controller="carCtrl">
    <tr>
        <td>书的名字</td>
        <td>书的价格</td>
        <td>书的数量</td>
        <td>小计</td>
        <td colspan="2">操作</td>
    </tr>
    <tr ng-repeat="book in books track by $index">
        <td>{{book.name}}</td>
        <td>{{book.price}}</td>
        <td>{{book.count}}</td>
        <td>{{book.count*book.price}}</td>
        <td><button>删除</button></td>
        <td><button>修改</button></td>
    </tr>
</table>
<script src="angular.js"></script>
<script src="angular-resource.js"></script>
<script src="jquery.js"></script>
<script src="bootstrap.js"></script>
<script>
    var app = angular.module('appModule',['ngResource']);

    /*'get': {method: 'GET'}, get是获取一个数据 {}
    'save': {method: 'POST'}, 保存
    'query': {method: 'GET', isArray: true}, 查询所有
    'remove': {method: 'DELETE'}, 删除
    'delete': {method: 'DELETE'}
    update:{method:'put'}
    */
    //GET /book
    //GET /book?id=1 /book/1
    //DELETE /book/1
    //PUT /book/1
    app.factory('book',function ($resource) {
        return $resource('/book/:id',null,{
            update:{
                method:'PUT'
            }
        });
    });
    app.controller('carCtrl',function ($scope,$http,book) {
        $scope.books = book.query();//会默认发送get请求后面没有id
    });



    /*$http.get('/book').success(function (data) { //promise对象
     $scope.books = data;
     });*/
    // /book  /remove
    //RESTful  通过方法名发送不同的请求并且路径相同
</script>
</body>
</html>